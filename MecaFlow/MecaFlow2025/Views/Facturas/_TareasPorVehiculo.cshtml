@model IEnumerable<MecaFlow2025.Models.TareasVehiculo>

<style>
    .tareas-table thead th {
        position: sticky;
        top: 0;
        z-index: 1;
        background-color: #343a40;
        color: #f8f9fa;
        border-color: #444;
    }

    .tareas-table td, .tareas-table th {
        white-space: nowrap;
        border-color: #444;
        color: #f8f9fa;
    }

    .tareas-table .desc {
        white-space: normal;
    }

    .tareas-table {
        background-color: #2a2a2a;
        color: #f8f9fa;
    }

        .tareas-table tbody tr {
            background-color: #2a2a2a;
        }

            .tareas-table tbody tr:hover {
                background-color: #333;
            }
</style>

@if (Model == null || !Model.Any())
{
    <div class="p-3 text-muted">No hay tareas registradas para este vehículo.</div>
}
else
{
    <div class="table-responsive">
        <table class="table table-hover align-middle mb-0 tareas-table">
            <thead class="table-dark">
                <tr>
                    <th class="text-center" style="width:70px">#</th>
                    <th style="width:130px">Fecha</th>
                    <th style="width:160px">Sector</th>
                    <th class="w-100">Descripción</th>
                    <th class="text-center" style="width:130px">Estado</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var t in Model)
                {
                    <tr>
                        <td class="text-center">@t.TareaId</td>
                        <td>@t.FechaRegistro?.ToString("dd/MM/yyyy")</td>
                        <td>@(string.IsNullOrWhiteSpace(t.Sector) ? "-" : t.Sector)</td>
                        <td class="desc">@t.Descripcion</td>
                        <td class="text-center">
                            <span class="badge rounded-pill @(t.Realizada ? "bg-success" : "bg-warning text-dark")">
                                @(t.Realizada ? "Realizada" : "Pendiente")
                            </span>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}